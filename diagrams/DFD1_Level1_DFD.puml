@startuml DFD1_Level1_DFD
!theme plain
skinparam componentStyle rectangle
skinparam defaultFontSize 11
skinparam component {
    BackgroundColor #E8F4F8
    BorderColor #2C3E50
    ArrowColor #34495E
}

title DFD1 - Level 1 Data Flow Diagram: AutoServe System

package "External Entities" {
    [Customer] as Customer #FFE5B4
    [Service Center] as ServiceCenter #B4E5FF
    [Admin] as Admin #FFB4B4
}

package "Processes" {
    rectangle "1.0\nUser\nManagement" as P1 #D4E5F7
    rectangle "2.0\nVehicle\nManagement" as P2 #D4E5F7
    rectangle "3.0\nService\nBooking" as P3 #D4E5F7
    rectangle "4.0\nJob Card\nManagement" as P4 #D4E5F7
    rectangle "5.0\nInventory\nManagement" as P5 #D4E5F7
    rectangle "6.0\nInvoice &\nPayment" as P6 #D4E5F7
    rectangle "7.0\nReviews &\nRatings" as P7 #D4E5F7
    rectangle "8.0\nDigital\nInspection" as P8 #D4E5F7
    rectangle "9.0\nLabor\nTracking" as P9 #D4E5F7
    rectangle "10.0\nNotification\nService" as P10 #D4E5F7
    rectangle "11.0\nAdmin\nManagement" as P11 #D4E5F7
}

package "Data Stores" {
    database "D1\nUsers" as D1 #E8F5E8
    database "D2\nVehicles" as D2 #E8F5E8
    database "D3\nBookings" as D3 #E8F5E8
    database "D4\nJob Cards" as D4 #E8F5E8
    database "D5\nInventory" as D5 #E8F5E8
    database "D6\nInvoices" as D6 #E8F5E8
    database "D7\nReviews" as D7 #E8F5E8
    database "D8\nStock Requests" as D8 #E8F5E8
    database "D9\nTeam Members" as D9 #E8F5E8
}

' Customer flows
Customer --> P1 : Registration Data\nLogin Credentials
P1 --> Customer : Authentication Token\nUser Profile
Customer --> P2 : Vehicle Details
P2 --> Customer : Vehicle List\nVehicle Info
Customer --> P3 : Booking Request
P3 --> Customer : Booking Confirmation\nStatus Updates
Customer --> P6 : Payment Details
P6 --> Customer : Invoice\nPayment Receipt
Customer --> P7 : Review & Rating
P7 --> Customer : Review Confirmation

' Service Center flows
ServiceCenter --> P3 : Booking Approval/Rejection
P3 --> ServiceCenter : Booking Requests
ServiceCenter --> P4 : Job Card Data\nTask Updates\nParts Usage
P4 --> ServiceCenter : Job Card Details\nProgress Status
ServiceCenter --> P5 : Inventory Updates\nStock Requests
P5 --> ServiceCenter : Inventory Status\nStock Alerts
ServiceCenter --> P6 : Invoice Generation Request
P6 --> ServiceCenter : Invoice Details
ServiceCenter --> P8 : Inspection Notes
P8 --> ServiceCenter : Inspection Reports
ServiceCenter --> P9 : Labor Time Data
P9 --> ServiceCenter : Labor Analytics

' Admin flows
Admin --> P11 : Management Requests
P11 --> Admin : System Reports\nAnalytics
Admin --> P5 : Stock Request Approval
P5 --> Admin : Stock Request Details

' Process to Data Store flows
P1 <--> D1 : User Data
P2 <--> D2 : Vehicle Data
P3 <--> D3 : Booking Data
P4 <--> D4 : Job Card Data
P5 <--> D5 : Inventory Data
P6 <--> D6 : Invoice Data
P7 <--> D7 : Review Data
P11 <--> D8 : Stock Request Data
P11 <--> D9 : Team Data

' Inter-process flows
P3 --> P4 : Approved Booking
P4 --> P5 : Parts Usage Request
P4 --> P6 : Job Card Completion
P6 --> P7 : Payment Confirmation
P4 --> P8 : Job Card Reference
P4 --> P9 : Task Assignment
P3 --> P10 : Status Change Events
P4 --> P10 : Progress Updates
P6 --> P10 : Payment Notifications
P8 --> P10 : Inspection Alerts
P5 --> P10 : Low Stock Alerts

note right of P1
    **Process 1.0:**
    • User Registration
    • Authentication
    • Profile Management
end note

note right of P4
    **Process 4.0:**
    • Job Card Creation
    • Task Assignment
    • Progress Tracking
    • Parts Allocation
end note

note right of P6
    **Process 6.0:**
    • Invoice Generation
    • Payment Processing
    • Transaction Recording
end note

@enduml

